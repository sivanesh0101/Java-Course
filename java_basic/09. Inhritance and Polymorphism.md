# 6. Inheritance & Polymorphism (Advanced OOP)

## 1. What is Inheritance?

**Definition:**  
Inheritance is one of the core concepts of Object-Oriented Programming (OOP) that allows a class to acquire the properties and methods of another class.  
The existing class is called the **parent (superclass)**, and the new class is called the **child (subclass)**.



**Example**
```java
// Parent class (Base class)
class BankAccount {
    double balance;

    void deposit(double amount) {
        balance += amount;
        System.out.println("Deposited: ₹" + amount);
    }

    void withdraw(double amount) {
        if (amount <= balance) {
            balance -= amount;
            System.out.println("Withdrawn: ₹" + amount);
        } else {
            System.out.println("Insufficient balance!");
        }
    }

    void checkBalance() {
        System.out.println("Current balance: ₹" + balance);
    }
}

// Child class 1
class SavingsAccount extends BankAccount {
    void showSavingsFeature() {
        System.out.println("Savings Account: Earn interest on your savings!");
    }
}

// Child class 2
class CurrentAccount extends BankAccount {
    void showCurrentFeature() {
        System.out.println("Current Account: Suitable for daily transactions!");
    }
}

// Main class
public class Main {
    public static void main(String[] args) {
        // Savings Account actions
        SavingsAccount s = new SavingsAccount();
        s.deposit(5000);
        s.withdraw(2000);
        s.checkBalance();
        s.showSavingsFeature();

        System.out.println();

        // Current Account actions
        CurrentAccount c = new CurrentAccount();
        c.deposit(10000);
        c.withdraw(4000);
        c.checkBalance();
        c.showCurrentFeature();
    }
}


```


---

## 2. Types of Inheritance in Java

1. **Single Inheritance**  
   One class inherits another.
   ```java
   class A { }
   class B extends A { }
   ```
    #### Example
    ```java
    class Animal {
    void eat() {
        System.out.println("Eating...");
    }
    }

    class Dog extends Animal {
        void bark() {
            System.out.println("Barking...");
        }
    }

    public class SingleInheritance {
        public static void main(String[] args) {
            Dog d = new Dog();
            d.eat();   // from Animal
            d.bark();  // from Dog
        }
    }

    ```
2. **Multilevel Inheritance**  
   A class inherits from another class which is also a subclass.
   ```java
   class A { }
   class B extends A { }
   class C extends B { }
   ```
    #### Example 
    ```java
    class Vehicle {
    void start() {
        System.out.println("Vehicle started");
    }
    }

    class Car extends Vehicle {
        void accelerate() {
            System.out.println("Car is accelerating");
        }
    }

    class ElectricCar extends Car {
        void charge() {
            System.out.println("ElectricCar is charging");
        }
    }

    public class MultilevelInheritance {
        public static void main(String[] args) {
            ElectricCar e = new ElectricCar();
            e.start();       // from Vehicle
            e.accelerate();  // from Car
            e.charge();      // from ElectricCar
        }
    }
    ```

    #### Output
    ```java
    Vehicle started
    Car is accelerating
    ElectricCar is charging
    ```

    ## Example 2

    ```java
    // Level 1 - Parent class
    class Employee {
        String name;
        double salary;

        void work() {
            System.out.println(name + " is working on assigned tasks.");
        }
    }

    // Level 2 - Child class
    class Manager extends Employee {
        String department;

        void manageTeam() {
            System.out.println(name + " manages the " + department + " department.");
        }
    }

    // Level 3 - Grandchild class
    class ProjectManager extends Manager {
        String projectName;

        void handleProject() {
            System.out.println(name + " handles project: " + projectName);
        }
    }


    public class MultilevelExample {
        public static void main(String[] args) {
            ProjectManager pm = new ProjectManager();
            pm.name = "Ravi";
            pm.salary = 85000;
            pm.department = "IT";
            pm.projectName = "Banking System Upgrade";

            // Access methods from all 3 levels
            pm.work();          // from Employee
            pm.manageTeam();    // from Manager
            pm.handleProject(); // from ProjectManager
        }
    }

    ```

3. **Hierarchical Inheritance**  
   Multiple classes inherit from the same parent.
   ```java
   class A { }
   class B extends A { }
   class C extends A { }
   ```
   ```java
   class BankAccount {
    void openAccount() {
        System.out.println("Account opened");
    }
    }

    class SavingsAccount extends BankAccount {
        void addInterest() {
            System.out.println("Interest added to savings account");
        }
    }

    class CurrentAccount extends BankAccount {
        void useOverdraft() {
            System.out.println("Overdraft facility used");
        }
    }

    public class HierarchicalInheritance {
        public static void main(String[] args) {
            SavingsAccount s = new SavingsAccount();
            s.openAccount();
            s.addInterest();

            CurrentAccount c = new CurrentAccount();
            c.openAccount();
            c.useOverdraft();
        }
    }

   ```

   #### Output
   ```java
    Account opened
    Interest added to savings account
    Account opened
    Overdraft facility used

   ```

4. **Multiple Inheritance (via Interfaces)**  
   Java does **not** support multiple inheritance with classes, but it supports it using interfaces.

    ### Example

    ```java
    interface Camera {
    void takePhoto();
    }

    interface MusicPlayer {
        void playMusic();
    }

    class SmartPhone implements Camera, MusicPlayer {
        public void takePhoto() {
            System.out.println("Taking a photo using the phone camera...");
        }

        public void playMusic() {
            System.out.println("Playing music on the phone...");
        }
    }

    public class Main {
        public static void main(String[] args) {
            SmartPhone sp = new SmartPhone();
            sp.takePhoto();
            sp.playMusic();
        }
    }


    ```

    #### Output

    ```java
    Taking a photo using the phone camera...
    Playing music on the phone...


    ```

    extends → used for class-to-class inheritance.

    implements → used for class-to-interface relationship.

---

## 4. Method Overriding (Runtime Polymorphism)

**Definition:**  
When a subclass provides its own implementation of a method that already exists in the parent class.

**Rules:** 
- Method name, parameters, and return type must be the same.
- Occurs during runtime.

**Example:**
```java
class Animal {
    void sound() {
        System.out.println("Animal makes sound");
    }
}

class Dog extends Animal {
    void sound() {
        System.out.println("Dog barks");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a = new Dog();  // upcasting
        a.sound();             // Dog's version executes
    }
}
```

**Example**
```java
class Calculator {
    // Parent method with parameters
    int add(int a, int b) {
        System.out.println("Adding numbers in Calculator class...");
        return a + b;
    }
}

class AdvancedCalculator extends Calculator {
    // Overriding the same method with the same parameters
    @Override
    int add(int a, int b) {
        System.out.println("Adding numbers in AdvancedCalculator class...");
        return a + b + 10; // adds extra 10 for demonstration
    }
}

public class Main {
    public static void main(String[] args) {
        Calculator c1 = new Calculator();
        System.out.println("Result: " + c1.add(5, 5));   // Calls parent method

        AdvancedCalculator c2 = new AdvancedCalculator();
        System.out.println("Result: " + c2.add(5, 5));   // Calls overridden method
    }
}
```


---

## 5. Dynamic Method Dispatch

**Definition:**  
It is the mechanism by which a **call to an overridden method** is resolved **at runtime** rather than compile time.  
It allows Java to support **runtime polymorphism**.

**Example:**
```java
class Animal {
    void sound() {
        System.out.println("Animal sound");
    }
}

class Dog extends Animal {
    void sound() {
        System.out.println("Dog barks");
    }
}

class Cat extends Animal {
    void sound() {
        System.out.println("Cat meows");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a;
        a = new Dog();
        a.sound(); // Dog barks

        a = new Cat();
        a.sound(); // Cat meows
    }
}
```

---

## 6. Abstract Classes and Methods

**Definition:**
An abstract class is like a partially built design — some work is done, but some rooms (methods) are left empty for others to finish.

You can’t create an object of an abstract class.

It can have:

Abstract methods (no body, only idea)

Normal methods (already implemented)


**Example:**
```java
abstract class Payment {
    abstract void processPayment(); // idea only, not defined

    void showReceipt() {
        System.out.println("Payment Completed. Thank you!");
    }
}

class UpiPayment extends Payment {
    void processPayment() {
        System.out.println("Paid via UPI App");
    }
}

class CardPayment extends Payment {
    void processPayment() {
        System.out.println("Paid using Credit Card");
    }
}

public class TestAbstract {
    public static void main(String[] args) {
        Payment p1 = new UpiPayment();
        Payment p2 = new CardPayment();

        p1.processPayment();
        p2.processPayment();
        p1.showReceipt();
    }
}

```
**output:**
```
Paid via UPI App
Paid using Credit Card
Payment Completed. Thank you!

```
---

---

## 7. Java 8 Interface Enhancements

Java 8 introduced:
- **Default Methods** – Can have a body inside an interface.
- **Static Methods** – Can be called without creating an object.

**Example:**
```java
interface Vehicle {
    void start();

    default void fuel() {
        System.out.println("Using petrol");
    }

    static void stop() {
        System.out.println("Vehicle stopped");
    }
}

class Car implements Vehicle {
    public void start() {
        System.out.println("Car started");
    }
}

public class Main {
    public static void main(String[] args) {
        Car c = new Car();
        c.start();
        c.fuel();
        Vehicle.stop();
    }
}
```

---


**Practice Tasks:**
1. Create a base class `Employee` and subclass `Manager` to demonstrate inheritance.  
2. Use `super` to call the parent constructor in the subclass.  
3. Override a method in subclass and demonstrate runtime polymorphism.  
4. Create an abstract class `Shape` with abstract method `area()` and concrete method `display()`.  
5. Create an interface `Payment` with `default` and `static` methods, and implement it in `CreditCard` class.