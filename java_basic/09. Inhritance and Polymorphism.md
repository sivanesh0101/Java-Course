# 6. Inheritance & Polymorphism (Advanced OOP)

## 1. What is Inheritance?

**Definition:**  
Inheritance is one of the core concepts of Object-Oriented Programming (OOP) that allows a class to acquire the properties and methods of another class.  
The existing class is called the **parent (superclass)**, and the new class is called the **child (subclass)**.

**Purpose:**
- Promotes code reusability.
- Improves maintainability.
- Supports hierarchical relationships.

```java
class Parent {
    // parent class
}

class Child extends Parent {
    // child class inherits Parent
}
```
**Example: without inheritance**

```java
class SavingsAccount {
    double balance;

    void deposit(double amount) {
        balance += amount;
    }

    void withdraw(double amount) {
        balance -= amount;
    }

    void calculateInterest() {
        System.out.println("Interest added to Savings Account");
    }
}

class CurrentAccount {
    double balance;

    void deposit(double amount) {
        balance += amount;
    }

    void withdraw(double amount) {
        balance -= amount;
    }

    void overdraftLimit() {
        System.out.println("Overdraft limit applied for Current Account");
    }
}

public class Main {
    public static void main(String[] args) {
        SavingsAccount s = new SavingsAccount();
        CurrentAccount c = new CurrentAccount();

        s.deposit(5000);
        s.calculateInterest();

        c.deposit(10000);
        c.overdraftLimit();
    }
}

```

**Example: with inheritance**
```java
// Parent class (Base class)
class BankAccount {
    double balance;

    void deposit(double amount) {
        balance += amount;
        System.out.println("Deposited: " + amount);
    }

    void withdraw(double amount) {
        if (amount <= balance) {
            balance -= amount;
            System.out.println("Withdrawn: " + amount);
        } else {
            System.out.println("Insufficient balance!");
        }
    }
}

// Child class 1
class SavingsAccount extends BankAccount {
    void calculateInterest() {
        System.out.println("Interest added to Savings Account");
    }
}

// Child class 2
class CurrentAccount extends BankAccount {
    void overdraftLimit() {
        System.out.println("Overdraft limit applied for Current Account");
    }
}

// Main class
public class Main {
    public static void main(String[] args) {
        SavingsAccount s = new SavingsAccount();
        s.deposit(5000);          // from parent
        s.calculateInterest();    // own method

        CurrentAccount c = new CurrentAccount();
        c.deposit(10000);         // from parent
        c.overdraftLimit();       // own method
    }
}

```
### Example 2:

```java

// Parent class
class Employee {
    String name;
    double salary;

    void displayInfo() {
        System.out.println("Name: " + name);
        System.out.println("Salary: " + salary);
    }

    void work() {
        System.out.println(name + " is working.");
    }
}

// Child class inherits from Employee
class Manager extends Employee {
    String department;

    void assignTask() {
        System.out.println(name + " manages the " + department + " department.");
    }
}

// Main class
public class InheritanceExample {
    public static void main(String[] args) {
        Manager m1 = new Manager();
        m1.name = "Ravi";
        m1.salary = 75000;
        m1.department = "IT";

        // Using parent class methods
        m1.displayInfo();
        m1.work();

        // Using child class method
        m1.assignTask();
    }
}
```
### Output
```java
Name: Ravi
Salary: 75000.0
Ravi is working.
Ravi manages the IT department.
```


### Example 3

```java
// Parent class
class Person {
    String name;
    int age;

    void introduce() {
        System.out.println("Hi, I'm " + name + ", and I'm " + age + " years old.");
    }
}

// Child class
class Student extends Person {
    String schoolName;

    void study() {
        System.out.println(name + " is studying at " + schoolName + ".");
    }
}

// Child of Student (Multi-level inheritance)
class CollegeStudent extends Student {
    String course;

    void attendLecture() {
        System.out.println(name + " is attending a " + course + " lecture.");
    }
}

// Main class
public class InheritanceDemo {
    public static void main(String[] args) {
        CollegeStudent cs = new CollegeStudent();
        cs.name = "Ananya";
        cs.age = 20;
        cs.schoolName = "Jeevi Academy";
        cs.course = "Computer Science";

        cs.introduce();       // from Person
        cs.study();           // from Student
        cs.attendLecture();   // from CollegeStudent
    }
}
```

### OUtput
```java
Hi, I'm Ananya, and I'm 20 years old.
Ananya is studying at Jeevi Academy.
Ananya is attending a Computer Science lecture.
```
---

## 2. Types of Inheritance in Java

1. **Single Inheritance**  
   One class inherits another.
   ```java
   class A { }
   class B extends A { }
   ```
    #### Example
    ```java
    class Animal {
    void eat() {
        System.out.println("Eating...");
    }
    }

    class Dog extends Animal {
        void bark() {
            System.out.println("Barking...");
        }
    }

    public class SingleInheritance {
        public static void main(String[] args) {
            Dog d = new Dog();
            d.eat();   // from Animal
            d.bark();  // from Dog
        }
    }

    ```
2. **Multilevel Inheritance**  
   A class inherits from another class which is also a subclass.
   ```java
   class A { }
   class B extends A { }
   class C extends B { }
   ```
    #### Example 
    ```java
    class Vehicle {
    void start() {
        System.out.println("Vehicle started");
    }
    }

    class Car extends Vehicle {
        void accelerate() {
            System.out.println("Car is accelerating");
        }
    }

    class ElectricCar extends Car {
        void charge() {
            System.out.println("ElectricCar is charging");
        }
    }

    public class MultilevelInheritance {
        public static void main(String[] args) {
            ElectricCar e = new ElectricCar();
            e.start();       // from Vehicle
            e.accelerate();  // from Car
            e.charge();      // from ElectricCar
        }
    }
    ```

    #### Output
    ```java
    Vehicle started
    Car is accelerating
    ElectricCar is charging
    ```

    ## Example 2

    ```java
    // Level 1 - Parent class
    class Employee {
        String name;
        double salary;

        void work() {
            System.out.println(name + " is working on assigned tasks.");
        }
    }

    // Level 2 - Child class
    class Manager extends Employee {
        String department;

        void manageTeam() {
            System.out.println(name + " manages the " + department + " department.");
        }
    }

    // Level 3 - Grandchild class
    class ProjectManager extends Manager {
        String projectName;

        void handleProject() {
            System.out.println(name + " handles project: " + projectName);
        }
    }


    public class MultilevelExample {
        public static void main(String[] args) {
            ProjectManager pm = new ProjectManager();
            pm.name = "Ravi";
            pm.salary = 85000;
            pm.department = "IT";
            pm.projectName = "Banking System Upgrade";

            // Access methods from all 3 levels
            pm.work();          // from Employee
            pm.manageTeam();    // from Manager
            pm.handleProject(); // from ProjectManager
        }
    }

    ```

3. **Hierarchical Inheritance**  
   Multiple classes inherit from the same parent.
   ```java
   class A { }
   class B extends A { }
   class C extends A { }
   ```
   ```java
   class BankAccount {
    void openAccount() {
        System.out.println("Account opened");
    }
    }

    class SavingsAccount extends BankAccount {
        void addInterest() {
            System.out.println("Interest added to savings account");
        }
    }

    class CurrentAccount extends BankAccount {
        void useOverdraft() {
            System.out.println("Overdraft facility used");
        }
    }

    public class HierarchicalInheritance {
        public static void main(String[] args) {
            SavingsAccount s = new SavingsAccount();
            s.openAccount();
            s.addInterest();

            CurrentAccount c = new CurrentAccount();
            c.openAccount();
            c.useOverdraft();
        }
    }

   ```

   #### Output
   ```java
    Account opened
    Interest added to savings account
    Account opened
    Overdraft facility used

   ```

4. **Multiple Inheritance (via Interfaces)**  
   Java does **not** support multiple inheritance with classes, but it supports it using interfaces.

    ### Example

    ```java
    interface Printable {
    void print();
    }

    interface Showable {
        void show();
    }

    class Demo implements Printable, Showable {
        public void print() {
            System.out.println("Printing...");
        }

        public void show() {
            System.out.println("Showing...");
        }
    }

    public class MultipleInheritance {
        public static void main(String[] args) {
            Demo d = new Demo();
            d.print();
            d.show();
        }
    }

    ```

    #### Output

    ```java
    Printing...
    Showing...

    ```

    extends → used for class-to-class inheritance.

    implements → used for class-to-interface relationship.


    ### Example 2:
    ```java
    interface Authenticatable {
        void login(String username, String password);
    }

    interface Loggable {
        void log(String message);
    }

    // Class implementing two interfaces
    class UserService implements Authenticatable, Loggable {
        public void login(String username, String password) {
            System.out.println(username + " logged in successfully.");
            log("Login successful for " + username);
        }

        public void log(String message) {
            System.out.println("[LOG] " + message);
        }
    }

    public class Example1 {
        public static void main(String[] args) {
            UserService user = new UserService();
            user.login("admin", "1234");
        }
    }
    ```
---


---

## 4. Method Overriding (Runtime Polymorphism)

**Definition:**  
When a subclass provides its own implementation of a method that already exists in the parent class.

**Rules:**
- Method name, parameters, and return type must be the same.
- The child method cannot have a lower access modifier.
- Occurs during runtime.

**Example:**
```java
class Animal {
    void sound() {
        System.out.println("Animal makes sound");
    }
}

class Dog extends Animal {
    void sound() {
        System.out.println("Dog barks");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a = new Dog();  // upcasting
        a.sound();             // Dog's version executes
    }
}
```

---

## 5. Dynamic Method Dispatch

**Definition:**  
It is the mechanism by which a **call to an overridden method** is resolved **at runtime** rather than compile time.  
It allows Java to support **runtime polymorphism**.

**Example:**
```java
class Animal {
    void sound() {
        System.out.println("Animal sound");
    }
}

class Dog extends Animal {
    void sound() {
        System.out.println("Dog barks");
    }
}

class Cat extends Animal {
    void sound() {
        System.out.println("Cat meows");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a;
        a = new Dog();
        a.sound(); // Dog barks

        a = new Cat();
        a.sound(); // Cat meows
    }
}
```

---

## 6. Abstract Classes and Methods

**Definition:**
An abstract class is a class that **cannot be instantiated** (you can’t create objects from it).  
It can have both **abstract methods** (without body) and **concrete methods** (with body).

**Use case:**
- To provide a **base structure** for all subclasses.
- To enforce subclasses to implement certain behaviors.

**Example:**
```java
abstract class Animal {
    abstract void sound();  // abstract method

    void sleep() {
        System.out.println("Sleeping...");
    }
}

class Dog extends Animal {
    void sound() {
        System.out.println("Dog barks");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a = new Dog();
        a.sound();
        a.sleep();
    }
}
```

---

## 7. Interfaces in Java

**Definition:**
An interface is a **contract** that defines a set of methods that a class must implement.  
All methods in an interface are **abstract by default** (unless declared `default` or `static`).

**Example:**
```java
interface Animal {
    void sound();  // abstract method
}

class Dog implements Animal {
    public void sound() {
        System.out.println("Dog barks");
    }
}

public class Main {
    public static void main(String[] args) {
        Dog d = new Dog();
        d.sound();
    }
}
```

---

## 8. Java 8 Interface Enhancements

Java 8 introduced:
- **Default Methods** – Can have a body inside an interface.
- **Static Methods** – Can be called without creating an object.

**Example:**
```java
interface Vehicle {
    void start();

    default void fuel() {
        System.out.println("Using petrol");
    }

    static void stop() {
        System.out.println("Vehicle stopped");
    }
}

class Car implements Vehicle {
    public void start() {
        System.out.println("Car started");
    }
}

public class Main {
    public static void main(String[] args) {
        Car c = new Car();
        c.start();
        c.fuel();
        Vehicle.stop();
    }
}
```

---

## Summary

| Concept | Description | Example Keyword |
|----------|--------------|----------------|
| Inheritance | Acquiring properties of another class | `extends` |
| `super` | Access parent class members | `super.method()` |
| Overriding | Redefining parent method | `@Override` |
| Dynamic Dispatch | Runtime method call | `Animal a = new Dog();` |
| Abstract Class | Partial abstraction | `abstract` |
| Interface | Full abstraction | `implements` |
| Default & Static methods | Added in Java 8 | `default`, `static` |

---

**Practice Tasks:**
1. Create a base class `Employee` and subclass `Manager` to demonstrate inheritance.  
2. Use `super` to call the parent constructor in the subclass.  
3. Override a method in subclass and demonstrate runtime polymorphism.  
4. Create an abstract class `Shape` with abstract method `area()` and concrete method `display()`.  
5. Create an interface `Payment` with `default` and `static` methods, and implement it in `CreditCard` class.